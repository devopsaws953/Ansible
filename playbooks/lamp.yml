- name: Setup LAMP stack
  hosts: appserver
  become: true

  tasks:
    - name: Install packages
      dnf:
        name:
          - httpd
          - mariadb105-server  # âœ… Correct package name for Amazon Linux 2023
          - php
        state: present

    - name: Start and enable Apache
      service:
        name: httpd
        state: started
        enabled: true

    - name: Start and enable MariaDB
      service:
        name: mariadb
        state: started
        enabled: true